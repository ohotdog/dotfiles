##General Settings##
# Directional keys
set $up k
set $down j
set $left h
set $right l

# Mod key (Mod1=<Alt>, Mod4=<Super>)
set $mod1 Mod1
set $mod2 Mod4
floating_modifier $mod1

# Reload config / Restart i3 / Exit i3 
bindsym $mod1+Shift+c reload
bindsym $mod1+Shift+r restart
bindsym $mod1+Shift+e exec i3-msg exit


##Window management##
# Kill focused window
bindsym $mod1+Shift+q	kill
bindsym $mod1+q		kill

# Change focus
bindsym $mod1+$left focus left
bindsym $mod1+$down focus down
bindsym $mod1+$up focus up
bindsym $mod1+$right focus right

# Move focused window
bindsym $mod1+Shift+$left move left
bindsym $mod1+Shift+$down move down
bindsym $mod1+Shift+$up move up
bindsym $mod1+Shift+$right move right

# Split orientation
bindsym $mod1+v split v;exec notify-send 'tile vertically'
bindsym $mod1+Shift+v split h;exec notify-send 'tile horizontally'

# Enter fullscreen mode for the focused window
bindsym $mod1+f fullscreen toggle

# Next / previous workspace
bindsym $mod1+period workspace next
bindsym $mod1+comma workspace prev

# Move focused window to workspace
bindsym $mod1+Shift+1 move container to workspace 1
bindsym $mod1+Shift+2 move container to workspace 2
bindsym $mod1+Shift+3 move container to workspace 3
bindsym $mod1+Shift+4 move container to workspace 4
bindsym $mod1+Shift+5 move container to workspace 5
bindsym $mod1+Shift+6 move container to workspace 6
bindsym $mod1+Shift+7 move container to workspace 7
bindsym $mod1+Shift+8 move container to workspace 8
bindsym $mod1+Shift+9 move container to workspace 9
bindsym $mod1+Shift+0 move container to workspace 10

# Resize window 
mode "resize" {
        # Resize in increments of 10
        bindsym $left       resize shrink width 10 px or 10 ppt
        bindsym $down       resize grow height 10 px or 10 ppt
        bindsym $up         resize shrink height 10 px or 10 ppt
        bindsym $right      resize grow width 10 px or 10 ppt

        # Resize in increments of 1
        bindsym Shift+$left       resize shrink width 1 px or 1 ppt
        bindsym Shift+$down       resize grow height 1 px or 1 ppt
        bindsym Shift+$up         resize shrink height 1 px or 1 ppt
        bindsym Shift+$right      resize grow width 1 px or 1 ppt

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

bindsym $mod1+r mode "resize"


##Workspace management##
# Switch to workspace
bindsym $mod1+1 workspace 1
bindsym $mod1+2 workspace 2
bindsym $mod1+3 workspace 3
bindsym $mod1+4 workspace 4
bindsym $mod1+5 workspace 5
bindsym $mod1+6 workspace 6
bindsym $mod1+7 workspace 7
bindsym $mod1+8 workspace 8
bindsym $mod1+9 workspace 9
bindsym $mod1+0 workspace 10


##i3-gaps##
# Basic Settings
hide_edge_borders both
for_window [class="^.*"] border pixel 0
gaps inner 20


##Keyboard/touchpad##
# Remap capslock and escape
exec_always --no-startup-id setxkbmap -option caps:escape


# Audio keybindings
bindsym XF86AudioRaiseVolume exec --no-startup-id "amixer set -c 0 Master 2%+; notify-send 'vol +2%'"
bindsym XF86AudioLowerVolume exec --no-startup-id "amixer set -c 0 Master 2%-; notify-send 'vol -2%'"
bindsym Shift+XF86AudioRaiseVolume exec --no-startup-id amixer set -c 0 Master 15%+
bindsym Shift+XF86AudioLowerVolume exec --no-startup-id amixer set -c 0 Master 15%-
bindsym XF86AudioMute exec --no-startup-id amixer -c 0 set Master toggle
bindsym $mod1+XF86AudioRaiseVolume exec --no-startup-id urxvt -e 'alsamixer'
bindsym $mod1+XF86AudioLowerVolume exec --no-startup-id urxvt -e 'alsamixer'

# Screen brightness
bindsym XF86MonBrightnessUp exec "xbacklight -inc 10; notify-send 'brightness up'"
bindsym XF86MonBrightnessDown exec "xbacklight -dec 10; notify-send 'brightness down'"

# Disable touchpad
exec --no-startup-id exec synclient TouchpadOff=1


##Programs##
# Shortcuts
bindsym $mod1+space exec --no-startup-id dmenu_run
bindsym $mod1+Return exec --no-startup-id urxvt

# Startup programs
exec --no-startup-id xautolock -time 30 -locker i3blurlock
exec --no-startup-id volumeicon
exec --no-startup-id wal -i $HOME/.bg -q
exec --no-startup-id unclutter
exec_always --no-startup-id $HOME/.config/polybar/launch.sh

# i3exit
set $mode_system System (l) lock, (e) logout, (s) suspend, (h) hibernate, (r) reboot, (Shift+s) shutdown
mode "$mode_system" {
    bindsym l exec --no-startup-id i3blurlock, mode "default"
    bindsym e exec --no-startup-id i3exit logout, mode "default"
    bindsym s exec --no-startup-id i3exit suspend, mode "default"
    bindsym h exec --no-startup-id i3exit hibernate, mode "default"
    bindsym r exec --no-startup-id i3exit reboot, mode "default"
    bindsym Shift+s exec --no-startup-id i3exit shutdown, mode "default"

    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod1+Shift+Escape mode "$mode_system"
